<!--
 * @Date        : 2020-08-13 23:08:19
 * @LastEditors : anlzou
 * @Github      : https://github.com/anlzou
 * @LastEditTime: 2020-08-13 23:30:13
 * @FilePath    : \web-test\vue-test\vueDemo\vue_17_ajax_resource.html
 * @Describe    : 
-->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>Document</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="">
    <script src="./assets/node_modules/vue/dist/vue.js"></script>
    <script src="./assets/node_modules/vue-resource/dist/vue-resource.min.js"></script>
</head>

<body>
    <!-- 
        get 请求
     -->
    <div id="box-1">
        <input type="button" @click="get()" value="点击获取异步数据(get)">
    </div>
    <br>
    <div id="box">
        <input type="button" @click="post()" value="点击获取异步数据(post)">
    </div>
    <script>
        window.onload = function () {
            var vm = new Vue({
                el: "#box",
                data: {
                    msg: "Hello World!"
                },
                methods: {
                    get: function () {
                        // 发送get请求
                        this.$http.get("https://www.runoob.com/try/try.php?filename=vue2-ajax/try/ajax/ajax_info.txt").then(function (res) {
                            document.write(res.body);
                        }, function () {
                            alert('请求失败');
                        });
                    },
                    post: function () {
                        //发送 post 请求
                        this.$http.post('vue_1.html', { name: "菜鸟教程", url: "http://www.runoob.com" }, { emulateJSON: true }).then(function (res) {
                            document.write(res.body);
                        }, function (res) {
                            alert(res.status + " : 获取失败");
                        });
                    }
                }
            })
        }
    </script>
</body>

</html>